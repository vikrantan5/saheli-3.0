{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"]}},{"name":"expo-camera","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":37,"index":37}}],"key":"F1dQUupkokZUlGC/IdrmVB3l6lo=","exportNames":["*"]}},{"name":"expo-device","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":39},"end":{"line":2,"column":38,"index":77}}],"key":"bBpmAhO1g++sdeUzQmFVGoQIVwg=","exportNames":["*"]}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":79},"end":{"line":3,"column":47,"index":126}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.requestCameraPermission = exports.isCameraAvailable = exports.getPhotoMetadata = exports.captureBackCameraPhoto = void 0;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _expoCamera = require(_dependencyMap[2], \"expo-camera\");\n  var Device = _interopRequireWildcard(require(_dependencyMap[3], \"expo-device\"));\n  var _reactNative = require(_dependencyMap[4], \"react-native\");\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) \"default\" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }\n  /**\r\n   * Request camera permissions\r\n   * @returns {Promise<boolean>}\r\n   */\n  var requestCameraPermission = exports.requestCameraPermission = /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator2.default)(function* () {\n      try {\n        var _yield$Camera$request = yield _expoCamera.Camera.requestCameraPermissionsAsync(),\n          status = _yield$Camera$request.status;\n        return status === 'granted';\n      } catch (error) {\n        console.error('Error requesting camera permission:', error);\n        return false;\n      }\n    });\n    return function requestCameraPermission() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  /**\r\n   * Capture photo from back camera\r\n   * @returns {Promise<Object|null>} Photo data with URI and metadata\r\n   */\n  var captureBackCameraPhoto = exports.captureBackCameraPhoto = /*#__PURE__*/function () {\n    var _ref2 = (0, _asyncToGenerator2.default)(function* () {\n      try {\n        // Check camera permissions\n        var hasPermission = yield requestCameraPermission();\n        if (!hasPermission) {\n          throw new Error('Camera permission not granted');\n        }\n\n        // For native platforms, we'll use Camera API\n        if (_reactNative.Platform.OS === 'android' || _reactNative.Platform.OS === 'ios') {\n          // Create a camera reference (we'll handle this in the component)\n          // For now, return metadata structure\n          var metadata = {\n            timestamp: new Date().toISOString(),\n            deviceId: Device.modelName || 'Unknown Device',\n            deviceModel: Device.modelId || 'Unknown Model',\n            osVersion: Device.osVersion || 'Unknown OS',\n            platform: _reactNative.Platform.OS\n          };\n          return {\n            metadata,\n            requiresComponent: true // Indicates camera component is needed\n          };\n        } else {\n          // For web, we cannot access camera directly in service\n          throw new Error('Web camera capture not supported in service layer');\n        }\n      } catch (error) {\n        console.error('Error capturing photo:', error);\n        throw error;\n      }\n    });\n    return function captureBackCameraPhoto() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  /**\r\n   * Get device metadata for photo\r\n   * @param {Object} location - GPS coordinates\r\n   * @returns {Object} Metadata object\r\n   */\n  var getPhotoMetadata = location => {\n    return {\n      timestamp: new Date().toISOString(),\n      deviceId: Device.modelName || 'Unknown Device',\n      deviceModel: Device.modelId || 'Unknown Model',\n      osVersion: Device.osVersion || 'Unknown OS',\n      platform: _reactNative.Platform.OS,\n      gps: location ? {\n        latitude: location.latitude,\n        longitude: location.longitude,\n        accuracy: location.accuracy || 'Unknown'\n      } : null\n    };\n  };\n\n  /**\r\n   * Check if camera is available\r\n   * @returns {Promise<boolean>}\r\n   */\n  exports.getPhotoMetadata = getPhotoMetadata;\n  var isCameraAvailable = exports.isCameraAvailable = /*#__PURE__*/function () {\n    var _ref3 = (0, _asyncToGenerator2.default)(function* () {\n      try {\n        var _yield$Camera$getCame = yield _expoCamera.Camera.getCameraPermissionsAsync(),\n          status = _yield$Camera$getCame.status;\n        return status === 'granted';\n      } catch (error) {\n        console.error('Error checking camera availability:', error);\n        return false;\n      }\n    });\n    return function isCameraAvailable() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n});","lineCount":114,"map":[[8,2,1,0],[8,6,1,0,"_expoCamera"],[8,17,1,0],[8,20,1,0,"require"],[8,27,1,0],[8,28,1,0,"_dependencyMap"],[8,42,1,0],[9,2,2,0],[9,6,2,0,"Device"],[9,12,2,0],[9,15,2,0,"_interopRequireWildcard"],[9,38,2,0],[9,39,2,0,"require"],[9,46,2,0],[9,47,2,0,"_dependencyMap"],[9,61,2,0],[10,2,3,0],[10,6,3,0,"_reactNative"],[10,18,3,0],[10,21,3,0,"require"],[10,28,3,0],[10,29,3,0,"_dependencyMap"],[10,43,3,0],[11,2,3,47],[11,11,3,47,"_interopRequireWildcard"],[11,35,3,47,"e"],[11,36,3,47],[11,38,3,47,"t"],[11,39,3,47],[11,68,3,47,"WeakMap"],[11,75,3,47],[11,81,3,47,"r"],[11,82,3,47],[11,89,3,47,"WeakMap"],[11,96,3,47],[11,100,3,47,"n"],[11,101,3,47],[11,108,3,47,"WeakMap"],[11,115,3,47],[11,127,3,47,"_interopRequireWildcard"],[11,150,3,47],[11,162,3,47,"_interopRequireWildcard"],[11,163,3,47,"e"],[11,164,3,47],[11,166,3,47,"t"],[11,167,3,47],[11,176,3,47,"t"],[11,177,3,47],[11,181,3,47,"e"],[11,182,3,47],[11,186,3,47,"e"],[11,187,3,47],[11,188,3,47,"__esModule"],[11,198,3,47],[11,207,3,47,"e"],[11,208,3,47],[11,214,3,47,"o"],[11,215,3,47],[11,217,3,47,"i"],[11,218,3,47],[11,220,3,47,"f"],[11,221,3,47],[11,226,3,47,"__proto__"],[11,235,3,47],[11,243,3,47,"default"],[11,250,3,47],[11,252,3,47,"e"],[11,253,3,47],[11,270,3,47,"e"],[11,271,3,47],[11,294,3,47,"e"],[11,295,3,47],[11,320,3,47,"e"],[11,321,3,47],[11,330,3,47,"f"],[11,331,3,47],[11,337,3,47,"o"],[11,338,3,47],[11,341,3,47,"t"],[11,342,3,47],[11,345,3,47,"n"],[11,346,3,47],[11,349,3,47,"r"],[11,350,3,47],[11,358,3,47,"o"],[11,359,3,47],[11,360,3,47,"has"],[11,363,3,47],[11,364,3,47,"e"],[11,365,3,47],[11,375,3,47,"o"],[11,376,3,47],[11,377,3,47,"get"],[11,380,3,47],[11,381,3,47,"e"],[11,382,3,47],[11,385,3,47,"o"],[11,386,3,47],[11,387,3,47,"set"],[11,390,3,47],[11,391,3,47,"e"],[11,392,3,47],[11,394,3,47,"f"],[11,395,3,47],[11,409,3,47,"_t"],[11,411,3,47],[11,415,3,47,"e"],[11,416,3,47],[11,432,3,47,"_t"],[11,434,3,47],[11,441,3,47,"hasOwnProperty"],[11,455,3,47],[11,456,3,47,"call"],[11,460,3,47],[11,461,3,47,"e"],[11,462,3,47],[11,464,3,47,"_t"],[11,466,3,47],[11,473,3,47,"i"],[11,474,3,47],[11,478,3,47,"o"],[11,479,3,47],[11,482,3,47,"Object"],[11,488,3,47],[11,489,3,47,"defineProperty"],[11,503,3,47],[11,508,3,47,"Object"],[11,514,3,47],[11,515,3,47,"getOwnPropertyDescriptor"],[11,539,3,47],[11,540,3,47,"e"],[11,541,3,47],[11,543,3,47,"_t"],[11,545,3,47],[11,552,3,47,"i"],[11,553,3,47],[11,554,3,47,"get"],[11,557,3,47],[11,561,3,47,"i"],[11,562,3,47],[11,563,3,47,"set"],[11,566,3,47],[11,570,3,47,"o"],[11,571,3,47],[11,572,3,47,"f"],[11,573,3,47],[11,575,3,47,"_t"],[11,577,3,47],[11,579,3,47,"i"],[11,580,3,47],[11,584,3,47,"f"],[11,585,3,47],[11,586,3,47,"_t"],[11,588,3,47],[11,592,3,47,"e"],[11,593,3,47],[11,594,3,47,"_t"],[11,596,3,47],[11,607,3,47,"f"],[11,608,3,47],[11,613,3,47,"e"],[11,614,3,47],[11,616,3,47,"t"],[11,617,3,47],[12,2,5,0],[13,0,6,0],[14,0,7,0],[15,0,8,0],[16,2,9,7],[16,6,9,13,"requestCameraPermission"],[16,29,9,36],[16,32,9,36,"exports"],[16,39,9,36],[16,40,9,36,"requestCameraPermission"],[16,63,9,36],[17,4,9,36],[17,8,9,36,"_ref"],[17,12,9,36],[17,19,9,36,"_asyncToGenerator2"],[17,37,9,36],[17,38,9,36,"default"],[17,45,9,36],[17,47,9,39],[17,60,9,51],[18,6,10,2],[18,10,10,6],[19,8,11,4],[19,12,11,4,"_yield$Camera$request"],[19,33,11,4],[19,42,11,29,"Camera"],[19,60,11,35],[19,61,11,36,"requestCameraPermissionsAsync"],[19,90,11,65],[19,91,11,66],[19,92,11,67],[20,10,11,12,"status"],[20,16,11,18],[20,19,11,18,"_yield$Camera$request"],[20,40,11,18],[20,41,11,12,"status"],[20,47,11,18],[21,8,12,4],[21,15,12,11,"status"],[21,21,12,17],[21,26,12,22],[21,35,12,31],[22,6,13,2],[22,7,13,3],[22,8,13,4],[22,15,13,11,"error"],[22,20,13,16],[22,22,13,18],[23,8,14,4,"console"],[23,15,14,11],[23,16,14,12,"error"],[23,21,14,17],[23,22,14,18],[23,59,14,55],[23,61,14,57,"error"],[23,66,14,62],[23,67,14,63],[24,8,15,4],[24,15,15,11],[24,20,15,16],[25,6,16,2],[26,4,17,0],[26,5,17,1],[27,4,17,1],[27,20,9,13,"requestCameraPermission"],[27,43,9,36,"requestCameraPermission"],[27,44,9,36],[28,6,9,36],[28,13,9,36,"_ref"],[28,17,9,36],[28,18,9,36,"apply"],[28,23,9,36],[28,30,9,36,"arguments"],[28,39,9,36],[29,4,9,36],[30,2,9,36],[30,5,17,1],[32,2,19,0],[33,0,20,0],[34,0,21,0],[35,0,22,0],[36,2,23,7],[36,6,23,13,"captureBackCameraPhoto"],[36,28,23,35],[36,31,23,35,"exports"],[36,38,23,35],[36,39,23,35,"captureBackCameraPhoto"],[36,61,23,35],[37,4,23,35],[37,8,23,35,"_ref2"],[37,13,23,35],[37,20,23,35,"_asyncToGenerator2"],[37,38,23,35],[37,39,23,35,"default"],[37,46,23,35],[37,48,23,38],[37,61,23,50],[38,6,24,2],[38,10,24,6],[39,8,25,4],[40,8,26,4],[40,12,26,10,"hasPermission"],[40,25,26,23],[40,34,26,32,"requestCameraPermission"],[40,57,26,55],[40,58,26,56],[40,59,26,57],[41,8,27,4],[41,12,27,8],[41,13,27,9,"hasPermission"],[41,26,27,22],[41,28,27,24],[42,10,28,6],[42,16,28,12],[42,20,28,16,"Error"],[42,25,28,21],[42,26,28,22],[42,57,28,53],[42,58,28,54],[43,8,29,4],[45,8,31,4],[46,8,32,4],[46,12,32,8,"Platform"],[46,33,32,16],[46,34,32,17,"OS"],[46,36,32,19],[46,41,32,24],[46,50,32,33],[46,54,32,37,"Platform"],[46,75,32,45],[46,76,32,46,"OS"],[46,78,32,48],[46,83,32,53],[46,88,32,58],[46,90,32,60],[47,10,33,6],[48,10,34,6],[49,10,35,6],[49,14,35,12,"metadata"],[49,22,35,20],[49,25,35,23],[50,12,36,8,"timestamp"],[50,21,36,17],[50,23,36,19],[50,27,36,23,"Date"],[50,31,36,27],[50,32,36,28],[50,33,36,29],[50,34,36,30,"toISOString"],[50,45,36,41],[50,46,36,42],[50,47,36,43],[51,12,37,8,"deviceId"],[51,20,37,16],[51,22,37,18,"Device"],[51,28,37,24],[51,29,37,25,"modelName"],[51,38,37,34],[51,42,37,38],[51,58,37,54],[52,12,38,8,"deviceModel"],[52,23,38,19],[52,25,38,21,"Device"],[52,31,38,27],[52,32,38,28,"modelId"],[52,39,38,35],[52,43,38,39],[52,58,38,54],[53,12,39,8,"osVersion"],[53,21,39,17],[53,23,39,19,"Device"],[53,29,39,25],[53,30,39,26,"osVersion"],[53,39,39,35],[53,43,39,39],[53,55,39,51],[54,12,40,8,"platform"],[54,20,40,16],[54,22,40,18,"Platform"],[54,43,40,26],[54,44,40,27,"OS"],[55,10,41,6],[55,11,41,7],[56,10,43,6],[56,17,43,13],[57,12,44,8,"metadata"],[57,20,44,16],[58,12,45,8,"requiresComponent"],[58,29,45,25],[58,31,45,27],[58,35,45,31],[58,36,45,33],[59,10,46,6],[59,11,46,7],[60,8,47,4],[60,9,47,5],[60,15,47,11],[61,10,48,6],[62,10,49,6],[62,16,49,12],[62,20,49,16,"Error"],[62,25,49,21],[62,26,49,22],[62,77,49,73],[62,78,49,74],[63,8,50,4],[64,6,51,2],[64,7,51,3],[64,8,51,4],[64,15,51,11,"error"],[64,20,51,16],[64,22,51,18],[65,8,52,4,"console"],[65,15,52,11],[65,16,52,12,"error"],[65,21,52,17],[65,22,52,18],[65,46,52,42],[65,48,52,44,"error"],[65,53,52,49],[65,54,52,50],[66,8,53,4],[66,14,53,10,"error"],[66,19,53,15],[67,6,54,2],[68,4,55,0],[68,5,55,1],[69,4,55,1],[69,20,23,13,"captureBackCameraPhoto"],[69,42,23,35,"captureBackCameraPhoto"],[69,43,23,35],[70,6,23,35],[70,13,23,35,"_ref2"],[70,18,23,35],[70,19,23,35,"apply"],[70,24,23,35],[70,31,23,35,"arguments"],[70,40,23,35],[71,4,23,35],[72,2,23,35],[72,5,55,1],[74,2,57,0],[75,0,58,0],[76,0,59,0],[77,0,60,0],[78,0,61,0],[79,2,62,7],[79,6,62,13,"getPhotoMetadata"],[79,22,62,29],[79,25,62,33,"location"],[79,33,62,41],[79,37,62,46],[80,4,63,2],[80,11,63,9],[81,6,64,4,"timestamp"],[81,15,64,13],[81,17,64,15],[81,21,64,19,"Date"],[81,25,64,23],[81,26,64,24],[81,27,64,25],[81,28,64,26,"toISOString"],[81,39,64,37],[81,40,64,38],[81,41,64,39],[82,6,65,4,"deviceId"],[82,14,65,12],[82,16,65,14,"Device"],[82,22,65,20],[82,23,65,21,"modelName"],[82,32,65,30],[82,36,65,34],[82,52,65,50],[83,6,66,4,"deviceModel"],[83,17,66,15],[83,19,66,17,"Device"],[83,25,66,23],[83,26,66,24,"modelId"],[83,33,66,31],[83,37,66,35],[83,52,66,50],[84,6,67,4,"osVersion"],[84,15,67,13],[84,17,67,15,"Device"],[84,23,67,21],[84,24,67,22,"osVersion"],[84,33,67,31],[84,37,67,35],[84,49,67,47],[85,6,68,4,"platform"],[85,14,68,12],[85,16,68,14,"Platform"],[85,37,68,22],[85,38,68,23,"OS"],[85,40,68,25],[86,6,69,4,"gps"],[86,9,69,7],[86,11,69,9,"location"],[86,19,69,17],[86,22,69,20],[87,8,70,6,"latitude"],[87,16,70,14],[87,18,70,16,"location"],[87,26,70,24],[87,27,70,25,"latitude"],[87,35,70,33],[88,8,71,6,"longitude"],[88,17,71,15],[88,19,71,17,"location"],[88,27,71,25],[88,28,71,26,"longitude"],[88,37,71,35],[89,8,72,6,"accuracy"],[89,16,72,14],[89,18,72,16,"location"],[89,26,72,24],[89,27,72,25,"accuracy"],[89,35,72,33],[89,39,72,37],[90,6,73,4],[90,7,73,5],[90,10,73,8],[91,4,74,2],[91,5,74,3],[92,2,75,0],[92,3,75,1],[94,2,77,0],[95,0,78,0],[96,0,79,0],[97,0,80,0],[98,2,77,0,"exports"],[98,9,77,0],[98,10,77,0,"getPhotoMetadata"],[98,26,77,0],[98,29,77,0,"getPhotoMetadata"],[98,45,77,0],[99,2,81,7],[99,6,81,13,"isCameraAvailable"],[99,23,81,30],[99,26,81,30,"exports"],[99,33,81,30],[99,34,81,30,"isCameraAvailable"],[99,51,81,30],[100,4,81,30],[100,8,81,30,"_ref3"],[100,13,81,30],[100,20,81,30,"_asyncToGenerator2"],[100,38,81,30],[100,39,81,30,"default"],[100,46,81,30],[100,48,81,33],[100,61,81,45],[101,6,82,2],[101,10,82,6],[102,8,83,4],[102,12,83,4,"_yield$Camera$getCame"],[102,33,83,4],[102,42,83,29,"Camera"],[102,60,83,35],[102,61,83,36,"getCameraPermissionsAsync"],[102,86,83,61],[102,87,83,62],[102,88,83,63],[103,10,83,12,"status"],[103,16,83,18],[103,19,83,18,"_yield$Camera$getCame"],[103,40,83,18],[103,41,83,12,"status"],[103,47,83,18],[104,8,84,4],[104,15,84,11,"status"],[104,21,84,17],[104,26,84,22],[104,35,84,31],[105,6,85,2],[105,7,85,3],[105,8,85,4],[105,15,85,11,"error"],[105,20,85,16],[105,22,85,18],[106,8,86,4,"console"],[106,15,86,11],[106,16,86,12,"error"],[106,21,86,17],[106,22,86,18],[106,59,86,55],[106,61,86,57,"error"],[106,66,86,62],[106,67,86,63],[107,8,87,4],[107,15,87,11],[107,20,87,16],[108,6,88,2],[109,4,89,0],[109,5,89,1],[110,4,89,1],[110,20,81,13,"isCameraAvailable"],[110,37,81,30,"isCameraAvailable"],[110,38,81,30],[111,6,81,30],[111,13,81,30,"_ref3"],[111,18,81,30],[111,19,81,30,"apply"],[111,24,81,30],[111,31,81,30,"arguments"],[111,40,81,30],[112,4,81,30],[113,2,81,30],[113,5,89,1],[114,0,89,2],[114,3]],"functionMap":{"names":["<global>","requestCameraPermission","captureBackCameraPhoto","getPhotoMetadata","isCameraAvailable"],"mappings":"AAA;uCCQ;CDQ;sCEM;CFgC;gCGO;CHa;iCIM;CJQ"}},"type":"js/module"}]}