{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"aU3Lrys8xTVpYSDJal2nhppojC8=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4DwyfFXBA53CJWVTVj5w3kH1PUg=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/inherits","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"y0uNg4LxF1CLscQChxzgo5dfjvA=","exportNames":["*"]}},{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"]}},{"name":"./NotificationsHandlerModule","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":70,"index":160}}],"key":"UF+u43m6G1FFZlom/NfKv8+5frg=","exportNames":["*"]}},{"name":"./utils/mapNotificationResponse","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":161},"end":{"line":3,"column":66,"index":227}}],"key":"JkOfaen2LZL/eo5bIUuRnscMf0c=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.NotificationTimeoutError = void 0;\n  exports.setNotificationHandler = setNotificationHandler;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _createClass2 = _interopRequireDefault(require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n  var _classCallCheck2 = _interopRequireDefault(require(_dependencyMap[3], \"@babel/runtime/helpers/classCallCheck\"));\n  var _possibleConstructorReturn2 = _interopRequireDefault(require(_dependencyMap[4], \"@babel/runtime/helpers/possibleConstructorReturn\"));\n  var _getPrototypeOf2 = _interopRequireDefault(require(_dependencyMap[5], \"@babel/runtime/helpers/getPrototypeOf\"));\n  var _inherits2 = _interopRequireDefault(require(_dependencyMap[6], \"@babel/runtime/helpers/inherits\"));\n  var _expoModulesCore = require(_dependencyMap[7], \"expo-modules-core\");\n  var _NotificationsHandlerModule = _interopRequireDefault(require(_dependencyMap[8], \"./NotificationsHandlerModule\"));\n  var _mapNotificationResponse = require(_dependencyMap[9], \"./utils/mapNotificationResponse\");\n  function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }\n  function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function () { return !!t; })(); }\n  /**\n   * @hidden\n   */\n  var NotificationTimeoutError = exports.NotificationTimeoutError = /*#__PURE__*/function (_CodedError) {\n    function NotificationTimeoutError(notificationId, notification) {\n      var _this;\n      (0, _classCallCheck2.default)(this, NotificationTimeoutError);\n      _this = _callSuper(this, NotificationTimeoutError, ['ERR_NOTIFICATION_TIMEOUT', `Notification handling timed out for ID ${notificationId}.`]);\n      _this.info = {\n        id: notificationId,\n        notification\n      };\n      return _this;\n    }\n    (0, _inherits2.default)(NotificationTimeoutError, _CodedError);\n    return (0, _createClass2.default)(NotificationTimeoutError);\n  }(_expoModulesCore.CodedError); // Web uses SyntheticEventEmitter\n  var notificationEmitter = new _expoModulesCore.LegacyEventEmitter(_NotificationsHandlerModule.default);\n  var handleNotificationEventName = 'onHandleNotification';\n  var handleNotificationTimeoutEventName = 'onHandleNotificationTimeout';\n  var handleSubscription = null;\n  var handleTimeoutSubscription = null;\n  /**\n   * When a notification is received while the app is running, using this function you can set a callback that will decide\n   * whether the notification should be shown to the user or not.\n   *\n   * When a notification is received, `handleNotification` is called with the incoming notification as an argument.\n   * The function should respond with a behavior object within 3 seconds, otherwise, the notification will be discarded.\n   * If the notification is handled successfully, `handleSuccess` is called with the identifier of the notification,\n   * otherwise (or on timeout) `handleError` will be called.\n   *\n   * The default behavior when the handler is not set or does not respond in time is not to show the notification.\n   * @param handler A single parameter which should be either `null` (if you want to clear the handler) or a [`NotificationHandler`](#notificationhandler) object.\n   *\n   * @example Implementing a notification handler that always shows the notification when it is received.\n   * ```jsx\n   * import * as Notifications from 'expo-notifications';\n   *\n   * Notifications.setNotificationHandler({\n   *   handleNotification: async () => ({\n   *     shouldShowBanner: true,\n   *     shouldShowList: true,\n   *     shouldPlaySound: false,\n   *     shouldSetBadge: false,\n   *   }),\n   * });\n   * ```\n   * @header inForeground\n   */\n  function setNotificationHandler(handler) {\n    if (handleSubscription) {\n      handleSubscription.remove();\n      handleSubscription = null;\n    }\n    if (handleTimeoutSubscription) {\n      handleTimeoutSubscription.remove();\n      handleTimeoutSubscription = null;\n    }\n    if (handler) {\n      handleSubscription = notificationEmitter.addListener(handleNotificationEventName, /*#__PURE__*/function () {\n        var _ref2 = (0, _asyncToGenerator2.default)(function* (_ref) {\n          var id = _ref.id,\n            notification = _ref.notification;\n          if (!_NotificationsHandlerModule.default.handleNotificationAsync) {\n            handler.handleError?.(id, new _expoModulesCore.UnavailabilityError('Notifications', 'handleNotificationAsync'));\n            return;\n          }\n          try {\n            var mappedNotification = (0, _mapNotificationResponse.mapNotification)(notification);\n            var behavior = yield handler.handleNotification(mappedNotification);\n            if (behavior.shouldShowAlert) {\n              console.warn('[expo-notifications]: `shouldShowAlert` is deprecated. Specify `shouldShowBanner` and / or `shouldShowList` instead.');\n            }\n            yield _NotificationsHandlerModule.default.handleNotificationAsync(id, behavior);\n            handler.handleSuccess?.(id);\n          } catch (error) {\n            // TODO(@kitten): This callback expects specific Error types, but we never narrow the type before calling this callback\n            handler.handleError?.(id, error);\n          }\n        });\n        return function (_x) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n      handleTimeoutSubscription = notificationEmitter.addListener(handleNotificationTimeoutEventName, _ref3 => {\n        var id = _ref3.id,\n          notification = _ref3.notification;\n        return handler.handleError?.(id, new NotificationTimeoutError(id, (0, _mapNotificationResponse.mapNotification)(notification)));\n      });\n    }\n  }\n});","lineCount":110,"map":[[14,2,1,0],[14,6,1,0,"_expoModulesCore"],[14,22,1,0],[14,25,1,0,"require"],[14,32,1,0],[14,33,1,0,"_dependencyMap"],[14,47,1,0],[15,2,2,0],[15,6,2,0,"_NotificationsHandlerModule"],[15,33,2,0],[15,36,2,0,"_interopRequireDefault"],[15,58,2,0],[15,59,2,0,"require"],[15,66,2,0],[15,67,2,0,"_dependencyMap"],[15,81,2,0],[16,2,3,0],[16,6,3,0,"_mapNotificationResponse"],[16,30,3,0],[16,33,3,0,"require"],[16,40,3,0],[16,41,3,0,"_dependencyMap"],[16,55,3,0],[17,2,3,66],[17,11,3,66,"_callSuper"],[17,22,3,66,"t"],[17,23,3,66],[17,25,3,66,"o"],[17,26,3,66],[17,28,3,66,"e"],[17,29,3,66],[17,40,3,66,"o"],[17,41,3,66],[17,48,3,66,"_getPrototypeOf2"],[17,64,3,66],[17,65,3,66,"default"],[17,72,3,66],[17,74,3,66,"o"],[17,75,3,66],[17,82,3,66,"_possibleConstructorReturn2"],[17,109,3,66],[17,110,3,66,"default"],[17,117,3,66],[17,119,3,66,"t"],[17,120,3,66],[17,122,3,66,"_isNativeReflectConstruct"],[17,147,3,66],[17,152,3,66,"Reflect"],[17,159,3,66],[17,160,3,66,"construct"],[17,169,3,66],[17,170,3,66,"o"],[17,171,3,66],[17,173,3,66,"e"],[17,174,3,66],[17,186,3,66,"_getPrototypeOf2"],[17,202,3,66],[17,203,3,66,"default"],[17,210,3,66],[17,212,3,66,"t"],[17,213,3,66],[17,215,3,66,"constructor"],[17,226,3,66],[17,230,3,66,"o"],[17,231,3,66],[17,232,3,66,"apply"],[17,237,3,66],[17,238,3,66,"t"],[17,239,3,66],[17,241,3,66,"e"],[17,242,3,66],[18,2,3,66],[18,11,3,66,"_isNativeReflectConstruct"],[18,37,3,66],[18,51,3,66,"t"],[18,52,3,66],[18,56,3,66,"Boolean"],[18,63,3,66],[18,64,3,66,"prototype"],[18,73,3,66],[18,74,3,66,"valueOf"],[18,81,3,66],[18,82,3,66,"call"],[18,86,3,66],[18,87,3,66,"Reflect"],[18,94,3,66],[18,95,3,66,"construct"],[18,104,3,66],[18,105,3,66,"Boolean"],[18,112,3,66],[18,145,3,66,"t"],[18,146,3,66],[18,159,3,66,"_isNativeReflectConstruct"],[18,184,3,66],[18,196,3,66,"_isNativeReflectConstruct"],[18,197,3,66],[18,210,3,66,"t"],[18,211,3,66],[19,2,4,0],[20,0,5,0],[21,0,6,0],[22,2,4,0],[22,6,7,13,"NotificationTimeoutError"],[22,30,7,37],[22,33,7,37,"exports"],[22,40,7,37],[22,41,7,37,"NotificationTimeoutError"],[22,65,7,37],[22,91,7,37,"_CodedError"],[22,102,7,37],[23,4,9,4],[23,13,9,4,"NotificationTimeoutError"],[23,38,9,16,"notificationId"],[23,52,9,30],[23,54,9,32,"notification"],[23,66,9,44],[23,68,9,46],[24,6,9,46],[24,10,9,46,"_this"],[24,15,9,46],[25,6,9,46],[25,10,9,46,"_classCallCheck2"],[25,26,9,46],[25,27,9,46,"default"],[25,34,9,46],[25,42,9,46,"NotificationTimeoutError"],[25,66,9,46],[26,6,10,8,"_this"],[26,11,10,8],[26,14,10,8,"_callSuper"],[26,24,10,8],[26,31,10,8,"NotificationTimeoutError"],[26,55,10,8],[26,58,10,14],[26,84,10,40],[26,86,10,42],[26,128,10,84,"notificationId"],[26,142,10,98],[26,145,10,101],[27,6,11,8,"_this"],[27,11,11,8],[27,12,11,13,"info"],[27,16,11,17],[27,19,11,20],[28,8,11,22,"id"],[28,10,11,24],[28,12,11,26,"notificationId"],[28,26,11,40],[29,8,11,42,"notification"],[30,6,11,55],[30,7,11,56],[31,6,11,57],[31,13,11,57,"_this"],[31,18,11,57],[32,4,12,4],[33,4,12,5],[33,8,12,5,"_inherits2"],[33,18,12,5],[33,19,12,5,"default"],[33,26,12,5],[33,28,12,5,"NotificationTimeoutError"],[33,52,12,5],[33,54,12,5,"_CodedError"],[33,65,12,5],[34,4,12,5],[34,15,12,5,"_createClass2"],[34,28,12,5],[34,29,12,5,"default"],[34,36,12,5],[34,38,12,5,"NotificationTimeoutError"],[34,62,12,5],[35,2,12,5],[35,4,7,46,"CodedError"],[35,31,7,56],[35,34,14,0],[36,2,15,0],[36,6,15,6,"notificationEmitter"],[36,25,15,25],[36,28,15,28],[36,32,15,32,"LegacyEventEmitter"],[36,67,15,50],[36,68,15,51,"NotificationsHandlerModule"],[36,103,15,77],[36,104,15,78],[37,2,16,0],[37,6,16,6,"handleNotificationEventName"],[37,33,16,33],[37,36,16,36],[37,58,16,58],[38,2,17,0],[38,6,17,6,"handleNotificationTimeoutEventName"],[38,40,17,40],[38,43,17,43],[38,72,17,72],[39,2,18,0],[39,6,18,4,"handleSubscription"],[39,24,18,22],[39,27,18,25],[39,31,18,29],[40,2,19,0],[40,6,19,4,"handleTimeoutSubscription"],[40,31,19,29],[40,34,19,32],[40,38,19,36],[41,2,20,0],[42,0,21,0],[43,0,22,0],[44,0,23,0],[45,0,24,0],[46,0,25,0],[47,0,26,0],[48,0,27,0],[49,0,28,0],[50,0,29,0],[51,0,30,0],[52,0,31,0],[53,0,32,0],[54,0,33,0],[55,0,34,0],[56,0,35,0],[57,0,36,0],[58,0,37,0],[59,0,38,0],[60,0,39,0],[61,0,40,0],[62,0,41,0],[63,0,42,0],[64,0,43,0],[65,0,44,0],[66,0,45,0],[67,0,46,0],[68,2,47,7],[68,11,47,16,"setNotificationHandler"],[68,33,47,38,"setNotificationHandler"],[68,34,47,39,"handler"],[68,41,47,46],[68,43,47,48],[69,4,48,4],[69,8,48,8,"handleSubscription"],[69,26,48,26],[69,28,48,28],[70,6,49,8,"handleSubscription"],[70,24,49,26],[70,25,49,27,"remove"],[70,31,49,33],[70,32,49,34],[70,33,49,35],[71,6,50,8,"handleSubscription"],[71,24,50,26],[71,27,50,29],[71,31,50,33],[72,4,51,4],[73,4,52,4],[73,8,52,8,"handleTimeoutSubscription"],[73,33,52,33],[73,35,52,35],[74,6,53,8,"handleTimeoutSubscription"],[74,31,53,33],[74,32,53,34,"remove"],[74,38,53,40],[74,39,53,41],[74,40,53,42],[75,6,54,8,"handleTimeoutSubscription"],[75,31,54,33],[75,34,54,36],[75,38,54,40],[76,4,55,4],[77,4,56,4],[77,8,56,8,"handler"],[77,15,56,15],[77,17,56,17],[78,6,57,8,"handleSubscription"],[78,24,57,26],[78,27,57,29,"notificationEmitter"],[78,46,57,48],[78,47,57,49,"addListener"],[78,58,57,60],[78,59,57,61,"handleNotificationEventName"],[78,86,57,88],[79,8,57,88],[79,12,57,88,"_ref2"],[79,17,57,88],[79,24,57,88,"_asyncToGenerator2"],[79,42,57,88],[79,43,57,88,"default"],[79,50,57,88],[79,52,57,90],[79,63,57,90,"_ref"],[79,67,57,90],[79,69,57,122],[80,10,57,122],[80,14,57,99,"id"],[80,16,57,101],[80,19,57,101,"_ref"],[80,23,57,101],[80,24,57,99,"id"],[80,26,57,101],[81,12,57,103,"notification"],[81,24,57,115],[81,27,57,115,"_ref"],[81,31,57,115],[81,32,57,103,"notification"],[81,44,57,115],[82,10,58,12],[82,14,58,16],[82,15,58,17,"NotificationsHandlerModule"],[82,50,58,43],[82,51,58,44,"handleNotificationAsync"],[82,74,58,67],[82,76,58,69],[83,12,59,16,"handler"],[83,19,59,23],[83,20,59,24,"handleError"],[83,31,59,35],[83,34,59,38,"id"],[83,36,59,40],[83,38,59,42],[83,42,59,46,"UnavailabilityError"],[83,78,59,65],[83,79,59,66],[83,94,59,81],[83,96,59,83],[83,121,59,108],[83,122,59,109],[83,123,59,110],[84,12,60,16],[85,10,61,12],[86,10,62,12],[86,14,62,16],[87,12,63,16],[87,16,63,22,"mappedNotification"],[87,34,63,40],[87,37,63,43],[87,41,63,43,"mapNotification"],[87,81,63,58],[87,83,63,59,"notification"],[87,95,63,71],[87,96,63,72],[88,12,64,16],[88,16,64,22,"behavior"],[88,24,64,30],[88,33,64,39,"handler"],[88,40,64,46],[88,41,64,47,"handleNotification"],[88,59,64,65],[88,60,64,66,"mappedNotification"],[88,78,64,84],[88,79,64,85],[89,12,65,16],[89,16,65,20,"behavior"],[89,24,65,28],[89,25,65,29,"shouldShowAlert"],[89,40,65,44],[89,42,65,46],[90,14,66,20,"console"],[90,21,66,27],[90,22,66,28,"warn"],[90,26,66,32],[90,27,66,33],[90,145,66,151],[90,146,66,152],[91,12,67,16],[92,12,68,16],[92,18,68,22,"NotificationsHandlerModule"],[92,53,68,48],[92,54,68,49,"handleNotificationAsync"],[92,77,68,72],[92,78,68,73,"id"],[92,80,68,75],[92,82,68,77,"behavior"],[92,90,68,85],[92,91,68,86],[93,12,69,16,"handler"],[93,19,69,23],[93,20,69,24,"handleSuccess"],[93,33,69,37],[93,36,69,40,"id"],[93,38,69,42],[93,39,69,43],[94,10,70,12],[94,11,70,13],[94,12,71,12],[94,19,71,19,"error"],[94,24,71,24],[94,26,71,26],[95,12,72,16],[96,12,73,16,"handler"],[96,19,73,23],[96,20,73,24,"handleError"],[96,31,73,35],[96,34,73,38,"id"],[96,36,73,40],[96,38,73,42,"error"],[96,43,73,47],[96,44,73,48],[97,10,74,12],[98,8,75,8],[98,9,75,9],[99,8,75,9],[99,25,75,9,"_x"],[99,27,75,9],[100,10,75,9],[100,17,75,9,"_ref2"],[100,22,75,9],[100,23,75,9,"apply"],[100,28,75,9],[100,35,75,9,"arguments"],[100,44,75,9],[101,8,75,9],[102,6,75,9],[102,10,75,10],[103,6,76,8,"handleTimeoutSubscription"],[103,31,76,33],[103,34,76,36,"notificationEmitter"],[103,53,76,55],[103,54,76,56,"addListener"],[103,65,76,67],[103,66,76,68,"handleNotificationTimeoutEventName"],[103,100,76,102],[103,102,76,104,"_ref3"],[103,107,76,104],[104,8,76,104],[104,12,76,107,"id"],[104,14,76,109],[104,17,76,109,"_ref3"],[104,22,76,109],[104,23,76,107,"id"],[104,25,76,109],[105,10,76,111,"notification"],[105,22,76,123],[105,25,76,123,"_ref3"],[105,30,76,123],[105,31,76,111,"notification"],[105,43,76,123],[106,8,76,123],[106,15,76,130,"handler"],[106,22,76,137],[106,23,76,138,"handleError"],[106,34,76,149],[106,37,76,152,"id"],[106,39,76,154],[106,41,76,156],[106,45,76,160,"NotificationTimeoutError"],[106,69,76,184],[106,70,76,185,"id"],[106,72,76,187],[106,74,76,189],[106,78,76,189,"mapNotification"],[106,118,76,204],[106,120,76,205,"notification"],[106,132,76,217],[106,133,76,218],[106,134,76,219],[106,135,76,220],[107,6,76,220],[107,8,76,221],[108,4,77,4],[109,2,78,0],[110,0,78,1],[110,3]],"functionMap":{"names":["<global>","NotificationTimeoutError","NotificationTimeoutError#constructor","setNotificationHandler","notificationEmitter.addListener$argument_1"],"mappings":"AAA;OCM;ICE;KDG;CDC;OGkC;0FCU;SDkB;wGCC,oHD;CHE"}},"type":"js/module"}]}