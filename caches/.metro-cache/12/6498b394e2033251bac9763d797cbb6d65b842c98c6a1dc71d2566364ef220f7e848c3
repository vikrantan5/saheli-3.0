{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"]}},{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":66,"index":66}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"]}},{"name":"./PushTokenManager","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":67},"end":{"line":2,"column":50,"index":117}}],"key":"/U/z9wvFThAkR9FZ1qxFHdWzZ18=","exportNames":["*"]}},{"name":"./warnOfExpoGoPushUsage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":118},"end":{"line":3,"column":64,"index":182}}],"key":"JoKHHQXXGY91wSaWh9AbqdpRHBQ=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = getDevicePushTokenAsync;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _expoModulesCore = require(_dependencyMap[2], \"expo-modules-core\");\n  var _PushTokenManager = _interopRequireDefault(require(_dependencyMap[3], \"./PushTokenManager\"));\n  var _warnOfExpoGoPushUsage = require(_dependencyMap[4], \"./warnOfExpoGoPushUsage\");\n  var nativeTokenPromise = null;\n  /**\n   * Returns a native FCM, APNs token or a [`PushSubscription` data](https://developer.mozilla.org/en-US/docs/Web/API/PushSubscription)\n   * that can be used with another push notification service.\n   * @header fetch\n   */\n  function getDevicePushTokenAsync() {\n    return _getDevicePushTokenAsync.apply(this, arguments);\n  }\n  function _getDevicePushTokenAsync() {\n    _getDevicePushTokenAsync = (0, _asyncToGenerator2.default)(function* () {\n      if (!_PushTokenManager.default.getDevicePushTokenAsync) {\n        throw new _expoModulesCore.UnavailabilityError('ExpoNotifications', 'getDevicePushTokenAsync');\n      }\n      (0, _warnOfExpoGoPushUsage.warnOfExpoGoPushUsage)();\n      var devicePushToken;\n      if (nativeTokenPromise) {\n        // Reuse existing Promise\n        devicePushToken = yield nativeTokenPromise;\n      } else {\n        // Create a new Promise and clear it afterwards\n        nativeTokenPromise = _PushTokenManager.default.getDevicePushTokenAsync();\n        devicePushToken = yield nativeTokenPromise;\n        nativeTokenPromise = null;\n      }\n      // @ts-ignore: TS thinks Platform.OS could be anything and can't decide what type is it\n      return {\n        type: _expoModulesCore.Platform.OS,\n        data: devicePushToken\n      };\n    });\n    return _getDevicePushTokenAsync.apply(this, arguments);\n  }\n});","lineCount":44,"map":[[8,2,1,0],[8,6,1,0,"_expoModulesCore"],[8,22,1,0],[8,25,1,0,"require"],[8,32,1,0],[8,33,1,0,"_dependencyMap"],[8,47,1,0],[9,2,2,0],[9,6,2,0,"_PushTokenManager"],[9,23,2,0],[9,26,2,0,"_interopRequireDefault"],[9,48,2,0],[9,49,2,0,"require"],[9,56,2,0],[9,57,2,0,"_dependencyMap"],[9,71,2,0],[10,2,3,0],[10,6,3,0,"_warnOfExpoGoPushUsage"],[10,28,3,0],[10,31,3,0,"require"],[10,38,3,0],[10,39,3,0,"_dependencyMap"],[10,53,3,0],[11,2,4,0],[11,6,4,4,"nativeTokenPromise"],[11,24,4,22],[11,27,4,25],[11,31,4,29],[12,2,5,0],[13,0,6,0],[14,0,7,0],[15,0,8,0],[16,0,9,0],[17,2,5,0],[17,11,10,30,"getDevicePushTokenAsync"],[17,34,10,53,"getDevicePushTokenAsync"],[17,35,10,53],[18,4,10,53],[18,11,10,53,"_getDevicePushTokenAsync"],[18,35,10,53],[18,36,10,53,"apply"],[18,41,10,53],[18,48,10,53,"arguments"],[18,57,10,53],[19,2,10,53],[20,2,10,53],[20,11,10,53,"_getDevicePushTokenAsync"],[20,36,10,53],[21,4,10,53,"_getDevicePushTokenAsync"],[21,28,10,53],[21,35,10,53,"_asyncToGenerator2"],[21,53,10,53],[21,54,10,53,"default"],[21,61,10,53],[21,63,10,15],[21,76,10,56],[22,6,11,4],[22,10,11,8],[22,11,11,9,"PushTokenManager"],[22,36,11,25],[22,37,11,26,"getDevicePushTokenAsync"],[22,60,11,49],[22,62,11,51],[23,8,12,8],[23,14,12,14],[23,18,12,18,"UnavailabilityError"],[23,54,12,37],[23,55,12,38],[23,74,12,57],[23,76,12,59],[23,101,12,84],[23,102,12,85],[24,6,13,4],[25,6,14,4],[25,10,14,4,"warnOfExpoGoPushUsage"],[25,54,14,25],[25,56,14,26],[25,57,14,27],[26,6,15,4],[26,10,15,8,"devicePushToken"],[26,25,15,23],[27,6,16,4],[27,10,16,8,"nativeTokenPromise"],[27,28,16,26],[27,30,16,28],[28,8,17,8],[29,8,18,8,"devicePushToken"],[29,23,18,23],[29,32,18,32,"nativeTokenPromise"],[29,50,18,50],[30,6,19,4],[30,7,19,5],[30,13,20,9],[31,8,21,8],[32,8,22,8,"nativeTokenPromise"],[32,26,22,26],[32,29,22,29,"PushTokenManager"],[32,54,22,45],[32,55,22,46,"getDevicePushTokenAsync"],[32,78,22,69],[32,79,22,70],[32,80,22,71],[33,8,23,8,"devicePushToken"],[33,23,23,23],[33,32,23,32,"nativeTokenPromise"],[33,50,23,50],[34,8,24,8,"nativeTokenPromise"],[34,26,24,26],[34,29,24,29],[34,33,24,33],[35,6,25,4],[36,6,26,4],[37,6,27,4],[37,13,27,11],[38,8,27,13,"type"],[38,12,27,17],[38,14,27,19,"Platform"],[38,39,27,27],[38,40,27,28,"OS"],[38,42,27,30],[39,8,27,32,"data"],[39,12,27,36],[39,14,27,38,"devicePushToken"],[40,6,27,54],[40,7,27,55],[41,4,28,0],[41,5,28,1],[42,4,28,1],[42,11,28,1,"_getDevicePushTokenAsync"],[42,35,28,1],[42,36,28,1,"apply"],[42,41,28,1],[42,48,28,1,"arguments"],[42,57,28,1],[43,2,28,1],[44,0,28,1],[44,3]],"functionMap":{"names":["<global>","getDevicePushTokenAsync"],"mappings":"AAA;eCS;CDkB"}},"type":"js/module"}]}