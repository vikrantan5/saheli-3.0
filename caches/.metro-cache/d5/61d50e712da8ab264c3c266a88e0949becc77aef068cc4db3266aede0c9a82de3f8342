{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"]}},{"name":"firebase/firestore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":11,"column":28,"index":154}}],"key":"n8ZdwTgQb9oFW01pH/SKxYwC/nA=","exportNames":["*"]}},{"name":"@/config/firebaseConfig","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0,"index":156},"end":{"line":12,"column":45,"index":201}}],"key":"01lw4jhSxNlOcsla+8KYWnNelPU=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.updateVideo = exports.getYouTubeVideoId = exports.getYouTubeThumbnail = exports.getYouTubeEmbedUrl = exports.getAllVideos = exports.deleteVideo = exports.addVideo = void 0;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _firestore = require(_dependencyMap[2], \"firebase/firestore\");\n  var _firebaseConfig = require(_dependencyMap[3], \"@/config/firebaseConfig\");\n  var VIDEOS_COLLECTION = 'safetyVideos';\n\n  /**\r\n   * Add a new safety video\r\n   */\n  var addVideo = exports.addVideo = /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator2.default)(function* (videoData) {\n      try {\n        var title = videoData.title,\n          description = videoData.description,\n          youtubeUrl = videoData.youtubeUrl,\n          thumbnailUrl = videoData.thumbnailUrl;\n        if (!title || !youtubeUrl) {\n          throw new Error('Title and YouTube URL are required');\n        }\n        var videoRef = yield (0, _firestore.addDoc)((0, _firestore.collection)(_firebaseConfig.db, VIDEOS_COLLECTION), {\n          title,\n          description: description || '',\n          youtubeUrl,\n          thumbnailUrl: thumbnailUrl || getYouTubeThumbnail(youtubeUrl),\n          createdAt: (0, _firestore.serverTimestamp)(),\n          updatedAt: (0, _firestore.serverTimestamp)()\n        });\n        console.log('✅ Video added successfully:', videoRef.id);\n        return videoRef.id;\n      } catch (error) {\n        console.error('❌ Error adding video:', error);\n        throw error;\n      }\n    });\n    return function addVideo(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  /**\r\n   * Get all safety videos\r\n   */\n  var getAllVideos = exports.getAllVideos = /*#__PURE__*/function () {\n    var _ref2 = (0, _asyncToGenerator2.default)(function* () {\n      try {\n        var videosQuery = (0, _firestore.query)((0, _firestore.collection)(_firebaseConfig.db, VIDEOS_COLLECTION), (0, _firestore.orderBy)('createdAt', 'desc'));\n        var querySnapshot = yield (0, _firestore.getDocs)(videosQuery);\n        var videos = [];\n        querySnapshot.forEach(doc => {\n          videos.push({\n            id: doc.id,\n            ...doc.data()\n          });\n        });\n        return videos;\n      } catch (error) {\n        console.error('❌ Error fetching videos:', error);\n        throw error;\n      }\n    });\n    return function getAllVideos() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  /**\r\n   * Update a video\r\n   */\n  var updateVideo = exports.updateVideo = /*#__PURE__*/function () {\n    var _ref3 = (0, _asyncToGenerator2.default)(function* (videoId, videoData) {\n      try {\n        var videoRef = (0, _firestore.doc)(_firebaseConfig.db, VIDEOS_COLLECTION, videoId);\n        yield (0, _firestore.updateDoc)(videoRef, {\n          ...videoData,\n          updatedAt: (0, _firestore.serverTimestamp)()\n        });\n        console.log('✅ Video updated successfully');\n      } catch (error) {\n        console.error('❌ Error updating video:', error);\n        throw error;\n      }\n    });\n    return function updateVideo(_x2, _x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  /**\r\n   * Delete a video\r\n   */\n  var deleteVideo = exports.deleteVideo = /*#__PURE__*/function () {\n    var _ref4 = (0, _asyncToGenerator2.default)(function* (videoId) {\n      try {\n        var videoRef = (0, _firestore.doc)(_firebaseConfig.db, VIDEOS_COLLECTION, videoId);\n        yield (0, _firestore.deleteDoc)(videoRef);\n        console.log('✅ Video deleted successfully');\n      } catch (error) {\n        console.error('❌ Error deleting video:', error);\n        throw error;\n      }\n    });\n    return function deleteVideo(_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  /**\r\n   * Extract YouTube video ID from URL\r\n   */\n  var getYouTubeVideoId = url => {\n    var regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?)).*v?=?([^#&?]*).*/;\n    var match = url.match(regExp);\n    return match && match[7].length === 11 ? match[7] : null;\n  };\n\n  /**\r\n   * Get YouTube thumbnail URL\r\n   */\n  exports.getYouTubeVideoId = getYouTubeVideoId;\n  var getYouTubeThumbnail = url => {\n    var videoId = getYouTubeVideoId(url);\n    return videoId ? `https://img.youtube.com/vi/${videoId}/hqdefault.jpg` : null;\n  };\n\n  /**\r\n   * Get YouTube embed URL\r\n   */\n  exports.getYouTubeThumbnail = getYouTubeThumbnail;\n  var getYouTubeEmbedUrl = url => {\n    var videoId = getYouTubeVideoId(url);\n    return videoId ? `https://www.youtube.com/embed/${videoId}` : null;\n  };\n  exports.getYouTubeEmbedUrl = getYouTubeEmbedUrl;\n});","lineCount":139,"map":[[8,2,1,0],[8,6,1,0,"_firestore"],[8,16,1,0],[8,19,1,0,"require"],[8,26,1,0],[8,27,1,0,"_dependencyMap"],[8,41,1,0],[9,2,12,0],[9,6,12,0,"_firebaseConfig"],[9,21,12,0],[9,24,12,0,"require"],[9,31,12,0],[9,32,12,0,"_dependencyMap"],[9,46,12,0],[10,2,14,0],[10,6,14,6,"VIDEOS_COLLECTION"],[10,23,14,23],[10,26,14,26],[10,40,14,40],[12,2,16,0],[13,0,17,0],[14,0,18,0],[15,2,19,7],[15,6,19,13,"addVideo"],[15,14,19,21],[15,17,19,21,"exports"],[15,24,19,21],[15,25,19,21,"addVideo"],[15,33,19,21],[16,4,19,21],[16,8,19,21,"_ref"],[16,12,19,21],[16,19,19,21,"_asyncToGenerator2"],[16,37,19,21],[16,38,19,21,"default"],[16,45,19,21],[16,47,19,24],[16,58,19,31,"videoData"],[16,67,19,40],[16,69,19,45],[17,6,20,2],[17,10,20,6],[18,8,21,4],[18,12,21,12,"title"],[18,17,21,17],[18,20,21,61,"videoData"],[18,29,21,70],[18,30,21,12,"title"],[18,35,21,17],[19,10,21,19,"description"],[19,21,21,30],[19,24,21,61,"videoData"],[19,33,21,70],[19,34,21,19,"description"],[19,45,21,30],[20,10,21,32,"youtubeUrl"],[20,20,21,42],[20,23,21,61,"videoData"],[20,32,21,70],[20,33,21,32,"youtubeUrl"],[20,43,21,42],[21,10,21,44,"thumbnailUrl"],[21,22,21,56],[21,25,21,61,"videoData"],[21,34,21,70],[21,35,21,44,"thumbnailUrl"],[21,47,21,56],[22,8,23,4],[22,12,23,8],[22,13,23,9,"title"],[22,18,23,14],[22,22,23,18],[22,23,23,19,"youtubeUrl"],[22,33,23,29],[22,35,23,31],[23,10,24,6],[23,16,24,12],[23,20,24,16,"Error"],[23,25,24,21],[23,26,24,22],[23,62,24,58],[23,63,24,59],[24,8,25,4],[25,8,27,4],[25,12,27,10,"videoRef"],[25,20,27,18],[25,29,27,27],[25,33,27,27,"addDoc"],[25,50,27,33],[25,52,27,34],[25,56,27,34,"collection"],[25,77,27,44],[25,79,27,45,"db"],[25,97,27,47],[25,99,27,49,"VIDEOS_COLLECTION"],[25,116,27,66],[25,117,27,67],[25,119,27,69],[26,10,28,6,"title"],[26,15,28,11],[27,10,29,6,"description"],[27,21,29,17],[27,23,29,19,"description"],[27,34,29,30],[27,38,29,34],[27,40,29,36],[28,10,30,6,"youtubeUrl"],[28,20,30,16],[29,10,31,6,"thumbnailUrl"],[29,22,31,18],[29,24,31,20,"thumbnailUrl"],[29,36,31,32],[29,40,31,36,"getYouTubeThumbnail"],[29,59,31,55],[29,60,31,56,"youtubeUrl"],[29,70,31,66],[29,71,31,67],[30,10,32,6,"createdAt"],[30,19,32,15],[30,21,32,17],[30,25,32,17,"serverTimestamp"],[30,51,32,32],[30,53,32,33],[30,54,32,34],[31,10,33,6,"updatedAt"],[31,19,33,15],[31,21,33,17],[31,25,33,17,"serverTimestamp"],[31,51,33,32],[31,53,33,33],[32,8,34,4],[32,9,34,5],[32,10,34,6],[33,8,36,4,"console"],[33,15,36,11],[33,16,36,12,"log"],[33,19,36,15],[33,20,36,16],[33,49,36,45],[33,51,36,47,"videoRef"],[33,59,36,55],[33,60,36,56,"id"],[33,62,36,58],[33,63,36,59],[34,8,37,4],[34,15,37,11,"videoRef"],[34,23,37,19],[34,24,37,20,"id"],[34,26,37,22],[35,6,38,2],[35,7,38,3],[35,8,38,4],[35,15,38,11,"error"],[35,20,38,16],[35,22,38,18],[36,8,39,4,"console"],[36,15,39,11],[36,16,39,12,"error"],[36,21,39,17],[36,22,39,18],[36,45,39,41],[36,47,39,43,"error"],[36,52,39,48],[36,53,39,49],[37,8,40,4],[37,14,40,10,"error"],[37,19,40,15],[38,6,41,2],[39,4,42,0],[39,5,42,1],[40,4,42,1],[40,20,19,13,"addVideo"],[40,28,19,21,"addVideo"],[40,29,19,21,"_x"],[40,31,19,21],[41,6,19,21],[41,13,19,21,"_ref"],[41,17,19,21],[41,18,19,21,"apply"],[41,23,19,21],[41,30,19,21,"arguments"],[41,39,19,21],[42,4,19,21],[43,2,19,21],[43,5,42,1],[45,2,44,0],[46,0,45,0],[47,0,46,0],[48,2,47,7],[48,6,47,13,"getAllVideos"],[48,18,47,25],[48,21,47,25,"exports"],[48,28,47,25],[48,29,47,25,"getAllVideos"],[48,41,47,25],[49,4,47,25],[49,8,47,25,"_ref2"],[49,13,47,25],[49,20,47,25,"_asyncToGenerator2"],[49,38,47,25],[49,39,47,25,"default"],[49,46,47,25],[49,48,47,28],[49,61,47,40],[50,6,48,2],[50,10,48,6],[51,8,49,4],[51,12,49,10,"videosQuery"],[51,23,49,21],[51,26,49,24],[51,30,49,24,"query"],[51,46,49,29],[51,48,50,6],[51,52,50,6,"collection"],[51,73,50,16],[51,75,50,17,"db"],[51,93,50,19],[51,95,50,21,"VIDEOS_COLLECTION"],[51,112,50,38],[51,113,50,39],[51,115,51,6],[51,119,51,6,"orderBy"],[51,137,51,13],[51,139,51,14],[51,150,51,25],[51,152,51,27],[51,158,51,33],[51,159,52,4],[51,160,52,5],[52,8,53,4],[52,12,53,10,"querySnapshot"],[52,25,53,23],[52,34,53,32],[52,38,53,32,"getDocs"],[52,56,53,39],[52,58,53,40,"videosQuery"],[52,69,53,51],[52,70,53,52],[53,8,55,4],[53,12,55,10,"videos"],[53,18,55,16],[53,21,55,19],[53,23,55,21],[54,8,56,4,"querySnapshot"],[54,21,56,17],[54,22,56,18,"forEach"],[54,29,56,25],[54,30,56,27,"doc"],[54,33,56,30],[54,37,56,35],[55,10,57,6,"videos"],[55,16,57,12],[55,17,57,13,"push"],[55,21,57,17],[55,22,57,18],[56,12,58,8,"id"],[56,14,58,10],[56,16,58,12,"doc"],[56,19,58,15],[56,20,58,16,"id"],[56,22,58,18],[57,12,59,8],[57,15,59,11,"doc"],[57,18,59,14],[57,19,59,15,"data"],[57,23,59,19],[57,24,59,20],[58,10,60,6],[58,11,60,7],[58,12,60,8],[59,8,61,4],[59,9,61,5],[59,10,61,6],[60,8,63,4],[60,15,63,11,"videos"],[60,21,63,17],[61,6,64,2],[61,7,64,3],[61,8,64,4],[61,15,64,11,"error"],[61,20,64,16],[61,22,64,18],[62,8,65,4,"console"],[62,15,65,11],[62,16,65,12,"error"],[62,21,65,17],[62,22,65,18],[62,48,65,44],[62,50,65,46,"error"],[62,55,65,51],[62,56,65,52],[63,8,66,4],[63,14,66,10,"error"],[63,19,66,15],[64,6,67,2],[65,4,68,0],[65,5,68,1],[66,4,68,1],[66,20,47,13,"getAllVideos"],[66,32,47,25,"getAllVideos"],[66,33,47,25],[67,6,47,25],[67,13,47,25,"_ref2"],[67,18,47,25],[67,19,47,25,"apply"],[67,24,47,25],[67,31,47,25,"arguments"],[67,40,47,25],[68,4,47,25],[69,2,47,25],[69,5,68,1],[71,2,70,0],[72,0,71,0],[73,0,72,0],[74,2,73,7],[74,6,73,13,"updateVideo"],[74,17,73,24],[74,20,73,24,"exports"],[74,27,73,24],[74,28,73,24,"updateVideo"],[74,39,73,24],[75,4,73,24],[75,8,73,24,"_ref3"],[75,13,73,24],[75,20,73,24,"_asyncToGenerator2"],[75,38,73,24],[75,39,73,24,"default"],[75,46,73,24],[75,48,73,27],[75,59,73,34,"videoId"],[75,66,73,41],[75,68,73,43,"videoData"],[75,77,73,52],[75,79,73,57],[76,6,74,2],[76,10,74,6],[77,8,75,4],[77,12,75,10,"videoRef"],[77,20,75,18],[77,23,75,21],[77,27,75,21,"doc"],[77,41,75,24],[77,43,75,25,"db"],[77,61,75,27],[77,63,75,29,"VIDEOS_COLLECTION"],[77,80,75,46],[77,82,75,48,"videoId"],[77,89,75,55],[77,90,75,56],[78,8,76,4],[78,14,76,10],[78,18,76,10,"updateDoc"],[78,38,76,19],[78,40,76,20,"videoRef"],[78,48,76,28],[78,50,76,30],[79,10,77,6],[79,13,77,9,"videoData"],[79,22,77,18],[80,10,78,6,"updatedAt"],[80,19,78,15],[80,21,78,17],[80,25,78,17,"serverTimestamp"],[80,51,78,32],[80,53,78,33],[81,8,79,4],[81,9,79,5],[81,10,79,6],[82,8,81,4,"console"],[82,15,81,11],[82,16,81,12,"log"],[82,19,81,15],[82,20,81,16],[82,50,81,46],[82,51,81,47],[83,6,82,2],[83,7,82,3],[83,8,82,4],[83,15,82,11,"error"],[83,20,82,16],[83,22,82,18],[84,8,83,4,"console"],[84,15,83,11],[84,16,83,12,"error"],[84,21,83,17],[84,22,83,18],[84,47,83,43],[84,49,83,45,"error"],[84,54,83,50],[84,55,83,51],[85,8,84,4],[85,14,84,10,"error"],[85,19,84,15],[86,6,85,2],[87,4,86,0],[87,5,86,1],[88,4,86,1],[88,20,73,13,"updateVideo"],[88,31,73,24,"updateVideo"],[88,32,73,24,"_x2"],[88,35,73,24],[88,37,73,24,"_x3"],[88,40,73,24],[89,6,73,24],[89,13,73,24,"_ref3"],[89,18,73,24],[89,19,73,24,"apply"],[89,24,73,24],[89,31,73,24,"arguments"],[89,40,73,24],[90,4,73,24],[91,2,73,24],[91,5,86,1],[93,2,88,0],[94,0,89,0],[95,0,90,0],[96,2,91,7],[96,6,91,13,"deleteVideo"],[96,17,91,24],[96,20,91,24,"exports"],[96,27,91,24],[96,28,91,24,"deleteVideo"],[96,39,91,24],[97,4,91,24],[97,8,91,24,"_ref4"],[97,13,91,24],[97,20,91,24,"_asyncToGenerator2"],[97,38,91,24],[97,39,91,24,"default"],[97,46,91,24],[97,48,91,27],[97,59,91,34,"videoId"],[97,66,91,41],[97,68,91,46],[98,6,92,2],[98,10,92,6],[99,8,93,4],[99,12,93,10,"videoRef"],[99,20,93,18],[99,23,93,21],[99,27,93,21,"doc"],[99,41,93,24],[99,43,93,25,"db"],[99,61,93,27],[99,63,93,29,"VIDEOS_COLLECTION"],[99,80,93,46],[99,82,93,48,"videoId"],[99,89,93,55],[99,90,93,56],[100,8,94,4],[100,14,94,10],[100,18,94,10,"deleteDoc"],[100,38,94,19],[100,40,94,20,"videoRef"],[100,48,94,28],[100,49,94,29],[101,8,96,4,"console"],[101,15,96,11],[101,16,96,12,"log"],[101,19,96,15],[101,20,96,16],[101,50,96,46],[101,51,96,47],[102,6,97,2],[102,7,97,3],[102,8,97,4],[102,15,97,11,"error"],[102,20,97,16],[102,22,97,18],[103,8,98,4,"console"],[103,15,98,11],[103,16,98,12,"error"],[103,21,98,17],[103,22,98,18],[103,47,98,43],[103,49,98,45,"error"],[103,54,98,50],[103,55,98,51],[104,8,99,4],[104,14,99,10,"error"],[104,19,99,15],[105,6,100,2],[106,4,101,0],[106,5,101,1],[107,4,101,1],[107,20,91,13,"deleteVideo"],[107,31,91,24,"deleteVideo"],[107,32,91,24,"_x4"],[107,35,91,24],[108,6,91,24],[108,13,91,24,"_ref4"],[108,18,91,24],[108,19,91,24,"apply"],[108,24,91,24],[108,31,91,24,"arguments"],[108,40,91,24],[109,4,91,24],[110,2,91,24],[110,5,101,1],[112,2,103,0],[113,0,104,0],[114,0,105,0],[115,2,106,7],[115,6,106,13,"getYouTubeVideoId"],[115,23,106,30],[115,26,106,34,"url"],[115,29,106,37],[115,33,106,42],[116,4,107,2],[116,8,107,8,"regExp"],[116,14,107,14],[116,17,107,17],[116,91,107,91],[117,4,108,2],[117,8,108,8,"match"],[117,13,108,13],[117,16,108,16,"url"],[117,19,108,19],[117,20,108,20,"match"],[117,25,108,25],[117,26,108,26,"regExp"],[117,32,108,32],[117,33,108,33],[118,4,109,2],[118,11,109,9,"match"],[118,16,109,14],[118,20,109,18,"match"],[118,25,109,23],[118,26,109,24],[118,27,109,25],[118,28,109,26],[118,29,109,27,"length"],[118,35,109,33],[118,40,109,38],[118,42,109,40],[118,45,109,43,"match"],[118,50,109,48],[118,51,109,49],[118,52,109,50],[118,53,109,51],[118,56,109,54],[118,60,109,58],[119,2,110,0],[119,3,110,1],[121,2,112,0],[122,0,113,0],[123,0,114,0],[124,2,112,0,"exports"],[124,9,112,0],[124,10,112,0,"getYouTubeVideoId"],[124,27,112,0],[124,30,112,0,"getYouTubeVideoId"],[124,47,112,0],[125,2,115,7],[125,6,115,13,"getYouTubeThumbnail"],[125,25,115,32],[125,28,115,36,"url"],[125,31,115,39],[125,35,115,44],[126,4,116,2],[126,8,116,8,"videoId"],[126,15,116,15],[126,18,116,18,"getYouTubeVideoId"],[126,35,116,35],[126,36,116,36,"url"],[126,39,116,39],[126,40,116,40],[127,4,117,2],[127,11,117,9,"videoId"],[127,18,117,16],[127,21,117,19],[127,51,117,49,"videoId"],[127,58,117,56],[127,74,117,72],[127,77,117,75],[127,81,117,79],[128,2,118,0],[128,3,118,1],[130,2,120,0],[131,0,121,0],[132,0,122,0],[133,2,120,0,"exports"],[133,9,120,0],[133,10,120,0,"getYouTubeThumbnail"],[133,29,120,0],[133,32,120,0,"getYouTubeThumbnail"],[133,51,120,0],[134,2,123,7],[134,6,123,13,"getYouTubeEmbedUrl"],[134,24,123,31],[134,27,123,35,"url"],[134,30,123,38],[134,34,123,43],[135,4,124,2],[135,8,124,8,"videoId"],[135,15,124,15],[135,18,124,18,"getYouTubeVideoId"],[135,35,124,35],[135,36,124,36,"url"],[135,39,124,39],[135,40,124,40],[136,4,125,2],[136,11,125,9,"videoId"],[136,18,125,16],[136,21,125,19],[136,54,125,52,"videoId"],[136,61,125,59],[136,63,125,61],[136,66,125,64],[136,70,125,68],[137,2,126,0],[137,3,126,1],[138,2,126,2,"exports"],[138,9,126,2],[138,10,126,2,"getYouTubeEmbedUrl"],[138,28,126,2],[138,31,126,2,"getYouTubeEmbedUrl"],[138,49,126,2],[139,0,126,2],[139,3]],"functionMap":{"names":["<global>","addVideo","getAllVideos","querySnapshot.forEach$argument_0","updateVideo","deleteVideo","getYouTubeVideoId","getYouTubeThumbnail","getYouTubeEmbedUrl"],"mappings":"AAA;wBCkB;CDuB;4BEK;0BCS;KDK;CFO;2BIK;CJa;2BKK;CLU;iCMK;CNI;mCOK;CPG;kCQK;CRG"}},"type":"js/module"}]}